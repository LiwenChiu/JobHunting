@model IEnumerable<JobHunting.Areas.Companies.ViewModel.ReceiveResumeViewModel>

@{
    ViewData["Title"] = "會員中心";
}

@section Styles
{
    <style>
        .astext {
            background: none;
            border: none;
            margin: 0;
            cursor: pointer;
        }

        .overcard:hover {
            background-color: #e6e6e6;
        }

        .bgcolor {
            background-color: #ffeedf;
        }

    </style>
}

<div class="sb-nav-fixed" id="app">
    @* 上方導覽列 *@
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-warning">
        <!-- Navbar Brand-->
        <a class="navbar-brand ps-3" role="button"><i class="fa-regular fa-building" style="color: #ffffff;"></i>     會員帳號</a>
        <!-- Sidebar Toggle-->
        <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle"><i class="fas fa-bars"></i></button>
        <!-- Navbar Return-->
        <div class="d-none d-md-inline-block form-inline mx-auto ">
            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Index" style="color:white;"><h3>小鴨上工</h3></a>
        </div>
        <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
            <li class="mx-2"><a class="nav-link" role="button" asp-area="" asp-controller="Home" asp-action="Index">返回首頁</a></li>
            <li class="mx-2"><a class="nav-link" role="button">登出</a></li>
        </ul>
    </nav>

    @* 左側導覽列 *@
    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <!-- left-Navbar-->
            <nav class="sb-sidenav sb-sidenav-warning" id="sidenavAccordion">
                <div class="sb-sidenav-menu">
                    <div class="nav">
@*                         <div class="sb-sidenav-menu-heading">會員中心</div> *@
                        <button type="button" class="nav-link astext" v-on:click="pageStatus=0"><h4>會員首頁</h4></button>
                        <nav class="sb-sidenav-menu-nested nav">
                            <button type="button" class="nav-link astext" v-on:click="pageStatus=1">會員資料</button>
                        </nav>
                        <nav class="sb-sidenav-menu-nested nav">
                            <button type="button" class="nav-link astext" v-on:click="pageStatus=2">公司介紹</button>
                        </nav>
                        <nav class="sb-sidenav-menu-nested nav">
                            <button type="button" class="nav-link astext" v-on:click="pageStatus=3">職缺刊登</button>
                        </nav>
                        <nav class="sb-sidenav-menu-nested nav">
                            <button type="button" class="nav-link collapsed astext" data-bs-toggle="collapse" data-bs-target="#collapseLayouts" aria-expanded="false" aria-controls="collapseLayouts" v-on:click="pageStatus=4">
                                履歷瀏覽
                                <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </button>
                            <div class="collapse" id="collapseLayouts" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
                                <nav class="sb-sidenav-menu-nested nav">
                                    <button type="button" class="nav-link astext" v-on:click="pageStatus=4;ResumeStatus = 1;">履歷暫存</button>
                                </nav>
                                <nav class="sb-sidenav-menu-nested nav">
                                    <button type="button" class="nav-link astext" v-on:click="pageStatus=4;ResumeStatus = 2;">投遞履歷</button>
                                </nav>
                                <nav class="sb-sidenav-menu-nested nav">
                                    <button type="button" class="nav-link astext" v-on:click="pageStatus=4;ResumeStatus = 3;">面試邀約</button>
                                </nav>
                                <nav class="sb-sidenav-menu-nested nav">
                                    <button type="button" class="nav-link astext" v-on:click="pageStatus=4;ResumeStatus = 4;">已獲錄取</button>
                                </nav>
                            </div>
                        </nav>
                        <nav class="sb-sidenav-menu-nested nav">
                            <button type="button" class="nav-link collapsed astext" data-bs-toggle="collapse" data-bs-target="#collapseMessage" aria-expanded="false" aria-controls="collapseLayouts" v-on:click="pageStatus=5">
                                訊息總覽
                                <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </button>
                            <div class="collapse" id="collapseMessage" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
                                <nav class="sb-sidenav-menu-nested nav">
                                    <button type="button" class="nav-link astext" v-on:click="pageStatus=5;MessageStatus = 1;">應徵訊息</button>
                                </nav>
                                <nav class="sb-sidenav-menu-nested nav">
                                    <button type="button" class="nav-link astext" v-on:click="pageStatus=5;MessageStatus = 2;">意見訊息</button>
                                </nav>
                            </div>
                        </nav>
                        <nav class="sb-sidenav-menu-nested nav">
                            <button type="button" class="nav-link astext" v-on:click="pageStatus=6">方案選擇</button>
                        </nav>
                        <nav class="sb-sidenav-menu-nested nav">
                            <button type="button" class="nav-link astext" v-on:click="pageStatus=7">訂單紀錄</button>
                        </nav>
                    </div>
                </div>
                @* <div class="sb-sidenav-footer">
                    <div class="small">Logged in as:</div>
                    公司帳號
                </div> *@
            </nav>
        </div>

        @* 求職者會員中心內容 *@
        <div id="layoutSidenav_content" class="bgcolor">
            <template v-if="pageStatus == 0">
                <partial name="_Home" />
            </template>
            <template v-if="pageStatus == 1">
                <partial name="_Member" />
            </template>
            <template v-else-if="pageStatus == 2">
                <partial name="_Intro" />
            </template>
            <template v-else-if="pageStatus == 3">
                <partial name="_Opening" />
            </template>
            <template v-else-if="pageStatus == 4">
                <partial name="_Resume" />
            </template>
            <template v-else-if="pageStatus == 5">
                <partial name="_Message" />
            </template>
            <template v-else-if="pageStatus == 6" >
                <partial name="_PricingPlans" />
            </template>
            <template v-else-if="pageStatus == 7">
                <partial name="_PricingOrderhistoryPartial" />
            </template>
        </div>


    </div>
</div>

@section Scripts
{
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        let VueApp = {
            data() {
                return {
                    pageStatus: 0,
                    ResumeStatus: 1,
                    MessageStatus: 1,
                    TagClasses: [
                        { TagClassID: 1, TagClass: "電腦科學" },
                        { TagClassID: 2, TagClass: "數學" },
                        { TagClassID: 3, TagClass: "醫學" },
                    ],
                    Tags: [
                        { TagClassID: 1, TagID: 1, TagName: "C#" },
                        { TagClassID: 1, TagID: 2, TagName: "JavaScript" },
                        { TagClassID: 1, TagID: 3, TagName: "Azure" },
                        { TagClassID: 2, TagID: 4, TagName: "高等微積分" },
                        { TagClassID: 2, TagID: 5, TagName: "複變數函數" },
                        { TagClassID: 3, TagID: 6, TagName: "肛腸科" },
                        { TagClassID: 3, TagID: 7, TagName: "精神科" },
                    ],
                    TagCheckedResume: [],
                };
            },
            methods:{
                changeTagNameTo: function (TagName) {
                    let _this = this;
                    return `${TagName}BindID`;
                },
                filterTagClass: function (ClassID) {
                    let _this = this;
                    return _this.Tags.filter(function (item) {
                        return item.TagClassID == ClassID;
                    });
                },
                ReturnhashtagID: function (item) {
                    return `#${item.TagClass}`;
                },
            },
        };

        let app = Vue.createApp(VueApp).mount("#app");

    </script>

}
    

